body {
  font-family: $helvetica;
  font-size: 100%;
}

textarea {
  resize: none;
  display: block;
}

input[type="submit"] {
  @include button(#333);
}

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.wrapper {
  padding: 0 4em 0 4em;
  margin: auto;
}

header {
  display: block;
  overflow: auto;
  margin: 2em 0;

  h1 {
    a, a:link, a:visited {
      color: #000;
    }

    span {
      font-weight: normal;
    }
  }
}

.notice {
  @include border-radius(none);
  margin-bottom: 2em;
}

$card-size: 200px;

.cards, .decks {
  li {
    display: block;
    float: left;
    height: $card-size;
    margin: 0 1em 1em 0;
    -moz-perspective: 600px;
    overflow: hidden;
    position: relative;
    -webkit-perspective: 600px;
    width: $card-size;

    a.create-link {
      background: #ff0000;
      bottom: 0;
      color: #fff;
      display: block;
      left: 0;
      padding: 1em;
      position: absolute;
      right: 0;
      top: 0;
    }
  }
}

.cards {
  li {
    .front, .back {
      background: #666;
      bottom: 0;
      color: #eee;
      left: 0;
      padding: 1em;
      position: absolute;
      right: 0;
      top: 0;
      -webkit-backface-visibility: hidden;
      -webkit-transform-style: preserve-3d;
      -webkit-transition: all .3s ease-in-out;

      &.image {
        padding: 0;

        img {
          width: $card-size;
        }
      }
    }

    .front {
      @include transform(rotate3d(45,45,0,0deg));
      z-index: 1;
    }

    .back {
      background: #ddd;
      color: #000;
      @include transform(rotate3d(45,45,0,-180deg));
      z-index: 0;
    }

    &.flip .front {
      @include transform(rotate3d(45,45,0,180deg));
    }

    &.flip .back {
      z-index: 2;
      @include transform(rotate3d(45,45,0,0deg));
    }
  }
}

.decks {
  li {
    overflow: visible;

    &.create-deck {
      background: #ff0000;
      @include box-sizing(border-box);
      color: #fff;
      padding: 1em;

      textarea {
        @include box-sizing(border-box);
        height: $card-size * .66;
        width: 100%;
      }

      input[type="submit"] {
        margin: 0;
      }
    }

    a {
      background: #666;
      border: 1px solid #fff;
      bottom: 0;
      @include box-sizing(border-box);
      color: #fff;
      left: 0;
      padding: 1em;
      position: absolute;
      right: 0;
      top: 0;
    }

    a.delete {
      background: rgba(0,0,0,.1);
      border: 1px solid rgba(255,255,255,.3);
      top: inherit;
      opacity: .5;
      @include transition;

      &:hover {
        background: rgba(0,0,0,.2);
        opacity: 1;
      }
    }

    &:not(:last-child)::after {
      background: #999;
      bottom: 0;
      content: "";
      display: block;
      height: $card-size;
      margin-bottom: -5px;
      margin-right: -5px;
      position: absolute;
      right: 0;
      width: $card-size;
      z-index: -1;
    }
  }
}
